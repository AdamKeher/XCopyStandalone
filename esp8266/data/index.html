<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="./favicon.ico">

        <title>XCopy Standalone - (c)2022 Adam Keher</title>

        <!-- XTerm.js -->
        <link rel="stylesheet" href="./css/xterm.css" />
        <script src="./scripts/xterm.js" type="text/javascript"></script>   

        <!-- Bootstrap core CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

        <!-- JQuery -->
        <script
        src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
        crossorigin="anonymous"></script>

        <!-- XCopy styles -->
        <link href="./css/default.css" rel="stylesheet">
        
        <!-- XCopy Scripts -->
        <script src="./scripts/icons.js" type="text/javascript"></script>
        <script src="./scripts/buttons.js" type="text/javascript"></script>
        <script src="./scripts/flux.js" type="text/javascript"></script>
        <script src="./scripts/tracks.js" type="text/javascript"></script>
        <script src="./scripts/sdcard.js" type="text/javascript"></script>
        <script src="./scripts/websocket.js" type="text/javascript"></script>
        <script src="./scripts/xcopy.js" type="text/javascript"></script>

        <!-- favicon -->
        <link rel="icon" href="./images/favicon.png">
    </head>

    <body onload="onLoad();">
        <!-- Begin page content -->
        <main role="main" class="container-lg">
            <div>
                <img src="./images/xcopy.png" class="float-end">
            </div>
            <ul class="nav nav-tabs" id="xcopyTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="diskcopy-tab" onclick="history.pushState(null, '', '#diskcopy');" data-bs-toggle="tab" data-bs-target="#diskcopy" type="button" role="tab" aria-controls="diskcopy" aria-selected="true">Disk Copy</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="sdcard-tab" onclick="history.pushState(null, '', '#sdcard');" data-bs-toggle="tab" data-bs-target="#sdcard" type="button" role="tab" aria-controls="sdcard" aria-selected="false">SD Card</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="log-tab" onclick="history.pushState(null, '', '#log');" data-bs-toggle="tab" data-bs-target="#log" type="button" role="tab" aria-controls="log" aria-selected="false">Log</button>
                </li>
            </ul>
            <div class="tab-content" id="xcopyTabContent">
                <div class="tab-pane fade show active" id="diskcopy" role="tabpanel" aria-labelledby="diskcopy-tab">
                    <p>
                        <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                            <div class="btn-group me-2" role="group" aria-label="First group">
                                <button type="button" id="copyADFtoDisk" class="btn btn-primary" onclick="diskcopy('copyADFtoDisk');" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Copy ADF to Disk</button>
                                <button type="button" id="copyDisktoADF" class="btn btn-primary" onclick="diskcopy('copyDisktoADF');">Copy Disk to ADF</button>
                                <button type="button" id="copyDisktoDisk" class="btn btn-primary" onclick="diskcopy('copyDisktoDisk');">Copy Disk to Disk</button>
                                <button type="button" id="copyDisktoFlash" class="btn btn-primary" onclick="diskcopy('copyDisktoFlash');">Copy Disk to Flash</button>
                                <button type="button" id="copyFlashtoDisk" class="btn btn-primary" onclick="diskcopy('copyFlashtoDisk');">Copy Flash to Disk</button>
                            </div>
                            <div class="btn-group me-2" role="group" aria-label="Second group">
                                <div class="dropdown">
                                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                                      Tools
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                                      <li><a class="dropdown-item" href="#" onclick="diskcopy('testDisk');">Test Disk</a></li>
                                      <li><a class="dropdown-item" href="#" onclick="diskcopy('formatDisk');">Format Disk</a></li>
                                      <li><a class="dropdown-item" href="#" onclick="diskcopy('diskFlux');">Disk Flux</a></li>
                                      <li><a class="dropdown-item" href="#" onclick="diskcopy('selectFile');">Test</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </p>
                    <p><hr/></p>
                    <p>
                        <table class="table-sm table-dark">
                            <thead>
                                <tr>
                                    <th class="diskcopyInfoHeader" colspan="4">Mode</th>
                                    <th class="diskcopyInfoText" colspan="24"><span id="mode">Unknown</span></th>
                                </tr>
                                <tr>
                                    <th class="diskcopyInfoHeader" colspan="4">Status</th>
                                    <th class="diskcopyInfoText" colspan="24"><span id="status">Unknown</span></th>
                                </tr>
                                <tr>
                                    <th class="diskcopyInfoHeader" colspan="4">Diskname</th>
                                    <th class="diskcopyInfoText" colspan="24"><span id="diskname">Unknown</span></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan=4></td>
                                    <td colspan=11>Upper Side</td>
                                    <td></td>
                                    <td colspan=11>Lower Side</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td colspan=4>Source</td>
                                    <td></td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>2</td>
                                    <td>3</td>
                                    <td>4</td>
                                    <td>5</td>
                                    <td>6</td>
                                    <td>7</td>
                                    <td>8</td>
                                    <td>9</td>
                                    <td></td>
                                    <td></td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>2</td>
                                    <td>3</td>
                                    <td>4</td>
                                    <td>5</td>
                                    <td>6</td>
                                    <td>7</td>
                                    <td>8</td>
                                    <td>9</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td rowspan=2><img id="src_floppy" src="./images/floppysrc.png"></td>
                                    <td rowspan=2><img id="src_sdcard" src="./images/sdcard.png"></td>
                                    <td rowspan=2><img id="src_flash" src="./images/flash.png"></td>
                                    <td></td>
                                    <td>0</td>
                                    <td class="track" id="track0"></td>
                                    <td class="track" id="track2"></td>
                                    <td class="track" id="track4"></td>
                                    <td class="track" id="track6"></td>
                                    <td class="track" id="track8"></td>
                                    <td class="track" id="track10"></td>
                                    <td class="track" id="track12"></td>
                                    <td class="track" id="track14"></td>
                                    <td class="track" id="track16"></td>
                                    <td class="track" id="track18"></td>
                                    <td></td>
                                    <td>0</td>
                                    <td class="track" id="track1"></td>
                                    <td class="track" id="track3"></td>
                                    <td class="track" id="track5"></td>
                                    <td class="track" id="track7"></td>
                                    <td class="track" id="track9"></td>
                                    <td class="track" id="track11"></td>
                                    <td class="track" id="track13"></td>
                                    <td class="track" id="track15"></td>
                                    <td class="track" id="track17"></td>
                                    <td class="track" id="track19"></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>1</td>
                                    <td class="track" id="track20"></td>
                                    <td class="track" id="track22"></td>
                                    <td class="track" id="track24"></td>
                                    <td class="track" id="track26"></td>
                                    <td class="track" id="track28"></td>
                                    <td class="track" id="track30"></td>
                                    <td class="track" id="track32"></td>
                                    <td class="track" id="track34"></td>
                                    <td class="track" id="track36"></td>
                                    <td class="track" id="track38"></td>
                                    <td></td>
                                    <td>1</td>
                                    <td class="track" id="track21"></td>
                                    <td class="track" id="track23"></td>
                                    <td class="track" id="track25"></td>
                                    <td class="track" id="track27"></td>
                                    <td class="track" id="track29"></td>
                                    <td class="track" id="track31"></td>
                                    <td class="track" id="track33"></td>
                                    <td class="track" id="track35"></td>
                                    <td class="track" id="track37"></td>
                                    <td class="track" id="track39"></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td><img id="src_floppy_globe" src="./images/selected.png"></td>
                                    <td><img id="src_sdcard_globe" src="./images/selected.png"></td>
                                    <td><img id="src_flash_globe" src="./images/selected.png"></td>
                                    <td></td>
                                    <td>2</td>
                                    <td class="track" id="track40"></td>
                                    <td class="track" id="track42"></td>
                                    <td class="track" id="track44"></td>
                                    <td class="track" id="track46"></td>
                                    <td class="track" id="track48"></td>
                                    <td class="track" id="track50"></td>
                                    <td class="track" id="track52"></td>
                                    <td class="track" id="track54"></td>
                                    <td class="track" id="track56"></td>
                                    <td class="track" id="track58"></td>
                                    <td></td>
                                    <td>2</td>
                                    <td class="track" id="track41"></td>
                                    <td class="track" id="track43"></td>
                                    <td class="track" id="track45"></td>
                                    <td class="track" id="track47"></td>
                                    <td class="track" id="track49"></td>
                                    <td class="track" id="track51"></td>
                                    <td class="track" id="track53"></td>
                                    <td class="track" id="track55"></td>
                                    <td class="track" id="track57"></td>
                                    <td class="track" id="track59"></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td colspan=4></td>
                                    <td>3</td>
                                    <td class="track" id="track60"></td>
                                    <td class="track" id="track62"></td>
                                    <td class="track" id="track64"></td>
                                    <td class="track" id="track66"></td>
                                    <td class="track" id="track68"></td>
                                    <td class="track" id="track70"></td>
                                    <td class="track" id="track72"></td>
                                    <td class="track" id="track74"></td>
                                    <td class="track" id="track76"></td>
                                    <td class="track" id="track78"></td>
                                    <td></td>
                                    <td>3</td>
                                    <td class="track" id="track61"></td>
                                    <td class="track" id="track63"></td>
                                    <td class="track" id="track65"></td>
                                    <td class="track" id="track67"></td>
                                    <td class="track" id="track69"></td>
                                    <td class="track" id="track71"></td>
                                    <td class="track" id="track73"></td>
                                    <td class="track" id="track75"></td>
                                    <td class="track" id="track77"></td>
                                    <td class="track" id="track79"></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td rowspan=2><img id="dst_floppy" style="display: visible;" src="./images/floppydest.png"></td>
                                    <td rowspan=2><img id="dst_sdcard" style="display: visible;" src="./images/sdcard.png"></td>
                                    <td rowspan=2><img id="dst_flash" style="display: visible;" src="./images/flash.png"></td>
                                    <td></td>
                                    <td>4</td>
                                    <td class="track" id="track80"></td>
                                    <td class="track" id="track82"></td>
                                    <td class="track" id="track84"></td>
                                    <td class="track" id="track86"></td>
                                    <td class="track" id="track88"></td>
                                    <td class="track" id="track90"></td>
                                    <td class="track" id="track92"></td>
                                    <td class="track" id="track94"></td>
                                    <td class="track" id="track96"></td>
                                    <td class="track" id="track98"></td>
                                    <td></td>
                                    <td>4</td>
                                    <td class="track" id="track81"></td>
                                    <td class="track" id="track83"></td>
                                    <td class="track" id="track85"></td>
                                    <td class="track" id="track87"></td>
                                    <td class="track" id="track89"></td>
                                    <td class="track" id="track91"></td>
                                    <td class="track" id="track93"></td>
                                    <td class="track" id="track95"></td>
                                    <td class="track" id="track97"></td>
                                    <td class="track" id="track99"></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>5</td>
                                    <td class="track" id="track100"></td>
                                    <td class="track" id="track102"></td>
                                    <td class="track" id="track104"></td>
                                    <td class="track" id="track106"></td>
                                    <td class="track" id="track108"></td>
                                    <td class="track" id="track110"></td>
                                    <td class="track" id="track112"></td>
                                    <td class="track" id="track114"></td>
                                    <td class="track" id="track116"></td>
                                    <td class="track" id="track118"></td>
                                    <td></td>
                                    <td>5</td>
                                    <td class="track" id="track101"></td>
                                    <td class="track" id="track103"></td>
                                    <td class="track" id="track105"></td>
                                    <td class="track" id="track107"></td>
                                    <td class="track" id="track109"></td>
                                    <td class="track" id="track111"></td>
                                    <td class="track" id="track113"></td>
                                    <td class="track" id="track115"></td>
                                    <td class="track" id="track117"></td>
                                    <td class="track" id="track119"></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td><img id="dst_floppy_globe" src="./images/selected.png"></td>
                                    <td><img id="dst_sdcard_globe" src="./images/selected.png"></td>
                                    <td><img id="dst_flash_globe" src="./images/selected.png"></td>
                                    <td></td>
                                    <td>6</td>
                                    <td class="track" id="track120"></td>
                                    <td class="track" id="track122"></td>
                                    <td class="track" id="track124"></td>
                                    <td class="track" id="track126"></td>
                                    <td class="track" id="track128"></td>
                                    <td class="track" id="track130"></td>
                                    <td class="track" id="track132"></td>
                                    <td class="track" id="track134"></td>
                                    <td class="track" id="track136"></td>
                                    <td class="track" id="track138"></td>
                                    <td></td>
                                    <td>6</td>
                                    <td class="track" id="track121"></td>
                                    <td class="track" id="track123"></td>
                                    <td class="track" id="track125"></td>
                                    <td class="track" id="track127"></td>
                                    <td class="track" id="track129"></td>
                                    <td class="track" id="track131"></td>
                                    <td class="track" id="track133"></td>
                                    <td class="track" id="track135"></td>
                                    <td class="track" id="track137"></td>
                                    <td class="track" id="track139"></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td colspan=4>Target</td>
                                    <td>7</td>
                                    <td class="track" id="track140"></td>
                                    <td class="track" id="track142"></td>
                                    <td class="track" id="track144"></td>
                                    <td class="track" id="track146"></td>
                                    <td class="track" id="track148"></td>
                                    <td class="track" id="track150"></td>
                                    <td class="track" id="track152"></td>
                                    <td class="track" id="track154"></td>
                                    <td class="track" id="track156"></td>
                                    <td class="track" id="track158"></td>
                                    <td></td>
                                    <td>7</td>
                                    <td class="track" id="track141"></td>
                                    <td class="track" id="track143"></td>
                                    <td class="track" id="track145"></td>
                                    <td class="track" id="track147"></td>
                                    <td class="track" id="track149"></td>
                                    <td class="track" id="track151"></td>
                                    <td class="track" id="track153"></td>
                                    <td class="track" id="track155"></td>
                                    <td class="track" id="track157"></td>
                                    <td class="track" id="track159"></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td colspan="28"></td>
                                </tr>
                            </tbody>
                        </table>
                    </p>
                    <p>
                        <canvas class="fluxCanvas" id="fluxCanvas" width="322" height="256"></canvas>
                    </p>
                    <!-- <p>
                        <button type="button" class="btn btn-danger" id="diskcopy_cancel" onclick="diskcopyCancel();">Cancel</button>
                    </p> -->
                </div>
                <div class="tab-pane fade" id="sdcard" role="tabpanel" aria-labelledby="sdcard-tab">
                    <p>
                        <div class="btn-group me-2" role="group" aria-label="First group">
                            <button type="button" class="btn btn-primary">Upload File</button>
                            <button type="button" class="btn btn-primary" onclick="getSdFiles(sdPath);">Refresh</button>
                        </div>
                    </p>
                    <p><hr/></p>
                    <p>Path: <span id="sdcardPath">/</span></p>
                    <p>
                        <table id="sdcardTable" class="table table-striped table-dark sdcardTable">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Time</th>
                                    <th>Size</th>
                                    <th>Filename</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="4">No Files</td>
                                </tr>
                            </tbody>
                        </table>
                    </p>
                    <p>File Count: <span id="sdcardFileCount">0</span></p>
                    <p><br><br></p>
                </div>
                <div class="tab-pane fade" id="log" role="tabpanel" aria-labelledby="log-tab">
                    <br>
                    <br>
                    <div id="terminal"></div>
                </div>
            </div>
            
            <!-- Modal file select dialog -->
            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Select file from SD Card</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>Path: <span id="fileselectPath">/</span></p>
                        <table id="fileselectTable" class="table table-striped table-dark sdcardTable">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Time</th>
                                    <th>Size</th>
                                    <th>Filename</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Date</td>
                                    <td>Time</td>
                                    <td>Size</td>
                                    <td>Filename</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                    </div>
                </div>
                </div>
            </div>

        </main>

        <footer class="footer">
            <div class="container-lg">
                <img src="./images/AK74.png" width="100">
                <span class="text-muted">(c)2022 Adam Keher.</span>
                <span><a href="https://github.com/AdamKeher/XCopyStandalone/" target="_new">https://github.com/AdamKeher/XCopyStandalone/</a></span>

                <div id="hardwareStatus" class="alert alert-danger float-end statusfooter" role="alert">
                    Device Busy
                </div>
                <div id="websocketStatus" class="alert alert-danger float-end statusfooter" role="alert">
                    Websocket Error
                </div>
            </div>
        </footer>
    </body>
</html>
